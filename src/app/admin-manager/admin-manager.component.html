<app-header></app-header>
<router-outlet></router-outlet>

<div class="tab">
    <div class="tab-container">
        <button mat-fab class="mat-fab">
            <mat-icon>list</mat-icon>
        </button>
        <button mat-fab class="mat-fab" (click)="createHost(createHostForm)">
            <mat-icon>people</mat-icon>
        </button>
    </div>
</div>

<div class="accountTable">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">STT</th>
        <th scope="col">Tên</th>
        <th scope="col">Gmail</th>
        <th scope="col">Số điện thoại</th>
        <th scope="col">Chức vụ</th>
        <th scope="col">Trạng thái</th>
        <th scope="col">Cấm</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let i of listAccount, let idx = index">
        <td>{{ idx + 1 }}</td>
        <td>{{ i.full_name }}</td>
        <td>{{ i.gmail }}</td>
        <td>{{ i.phone_number }}</td>
        <td>{{ i.roles[0] }}</td>
        <td> {{ i.status === 1 ? "Đang hoạt động" : "Đã bị cấm"}}</td>
        <td>
          <button mat-fab class="mat-fab" (click)="tranformStatus(i.gmail, i.status)">
            <mat-icon>transform</mat-icon>
          </button>      
        </td>
      </tr>
    </tbody>
  </table>
</div>


  
  <ng-template #createHostForm>
    <form ngNativeValidate>
      <div class="modal-header">
        <b><h1 class="modal-title pull-left">Tạo host</h1></b>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="name_clinic">Tên phòng khám</label>
          <input autocomplete="off" id="name_clinic" required class="form-control mt-1" placeholder="Tên phòng khám" [(ngModel)] = "name_clinic"
          [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
            <label for="full_name">Họ và tên</label>
            <input autocomplete="off" id="full_name" required class="form-control mt-1" placeholder="Họ và tên" [(ngModel)] = "full_name"
            [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
            <label for="gmail">Email</label>
            <input autocomplete="off" id="gmail" required class="form-control mt-1" placeholder="Email" [(ngModel)] = "gmail"
            [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
            <label for="phone_number">Số điện thoại</label>
            <input autocomplete="off" id="phone_number" required class="form-control mt-1" placeholder="Số điện thoại" [(ngModel)] = "phone_number"
            [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
            <label for="address">Địa chỉ</label>
            <input autocomplete="off" id="address" required class="form-control mt-1" placeholder="Địa chỉ" [(ngModel)] = "address"
            [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
          <label for="password">Mật khẩu</label>
            <input autocomplete="off" id="password" required class="form-control mt-1" placeholder="Mật khẩu" [(ngModel)] = "password"
            [ngModelOptions]="{standalone: true}">
        </div>
        <div class="form-group">
          <label for="address_clinic">Địa chỉ phòng khám</label>
          <input autocomplete="off" id="address_clinic" required class="form-control mt-1" placeholder="Địa chỉ phòng khám" [(ngModel)] = "address_clinic"
          [ngModelOptions]="{standalone: true}">
      </div>
      </div>
      <div class="modal-footer">
        <div class="operate-btn">
          <button type="button" class="btn btn-danger mt-3" (click)="closeDialog()">Huỷ</button>
          <button type="button" class="btn btn-warning mt-3" (click)="registerClinic()">Đăng ký</button>
        </div>
      </div>
    </form>

  </ng-template>