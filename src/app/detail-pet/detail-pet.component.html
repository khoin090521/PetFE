<app-header></app-header>
<router-outlet></router-outlet>

<div class="detail-bar">
    <div class="infor-detail">
        <img class="avatar-detail" src="https://spiritdogtraining.com/wp-content/uploads/2021/02/husky-eye-color.jpg" alt="">
        <h3 class="name-detail">Husky</h3>
        <!-- <div class="option-detail"> -->
            <!-- <button class="profile-btn" mat-fab extended (click)="openProfile()">Hồ sơ</button>
            <button class="erecord-btn" mat-fab extended (click)="openERecord()">Bệnh án điện tử</button> -->
        <!-- </div> -->
        <button [ngClass]="profileBtn" mat-fab extended (click)="openProfile()">Hồ sơ</button>
        <button [ngClass]="erecordBtn" mat-fab extended (click)="openERecord()">Bệnh án điện tử</button>
    </div>
</div>

<div class="profile-tab" *ngIf="statusTab">
    <div class="profile-tab-container">
        <button mat-fab extended (click)="openBasicDetail()">
            Thông tin cơ bản
        </button>
        <button mat-fab extended (click)="openHealthHistory()">
            Lịch sử sức khoẻ
        </button>
        <button mat-fab extended (click)="openInjectionhHistory()">
            Lịch sử tiêm phòng
        </button>
    </div>
</div>

<div class="basic-profile" *ngIf="profiltTabStatus === 1">
    <div class="left-group">
        <div class="form-group">
            <input autocomplete="off" required class="form-control mt-1" placeholder="Tên" [(ngModel)]="petName">
        </div>
        <div class="form-group mt-3">
            <input autocomplete="off" required type="text" class="form-control mt-1" placeholder="Loài" [(ngModel)]="petSpecies">
        </div>
        <div class="form-group mt-3">
            <input autocomplete="off" required type="text" class="form-control mt-1" placeholder="Ngày sinh" [(ngModel)]="petAge">
        </div>
        <div class="form-group mt-3">
            <input autocomplete="off" required type="text" class="form-control mt-1" placeholder="Ngày sinh" [(ngModel)]="petIdentifying">
        </div>
    </div>

    <div class="right-group">
        <form>
            <label class="file-upload">
                <div class="update-right">
                    <img style="height: 150px;width: 150px" class="update-avatar" src="{{ imagePet }}" alt=""><br>
                    <!-- <input type="file" (change)="onChange($event)"/> -->
                    <!-- <button class="update-btn" mat-fab extended (click)="openProfile()">Cập nhật</button> -->
                </div>
                <!-- <div *ngIf="myImage">
                    <img [src]="myImage" alt="">
                    <input type="file" (change)="onChange($event)"/>
                </div> -->
            </label>
        </form>
    </div>
</div>


<div class="basic-profile" *ngIf="profiltTabStatus === 2">
    <div class="left-group health-history">
        <form *ngFor="let i of healthPetList">
            <textarea class="form-control" id="" rows="5" cols="50" value="{{ i.description }}"></textarea>
        </form>
        <form>
            <textarea class="form-control" id="" rows="5" cols="50" [(ngModel)]="descriptionHealth" [ngModelOptions]="{standalone: true}"></textarea>
        </form>
    </div>
    <div class="right-group">
        <form>
            <div class="update-right">
                <!-- <button mat-fab class="openTextArea">
                    <mat-icon>add</mat-icon>
                </button><br><br> -->
                <button mat-fab extended (click)="addHealthHistory()">Cập nhật</button>
            </div>
        </form>
    </div>
</div>


<div class="basic-profile" *ngIf="profiltTabStatus === 3">
    <div class="left-group">
        <form>
            <textarea class="form-control" id="" rows="5" cols="50"></textarea>
        </form>
    </div>
    <div class="right-group">
        <form>
            <div class="update-right">
                <button mat-fab class="openTextArea">
                    <mat-icon>add</mat-icon>
                </button><br><br>
                <button mat-fab extended>Cập nhật</button>
            </div>
        </form>
    </div>
</div>


<div class="erecord-tab" *ngIf="!statusTab">
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Ngày khám</th>
            <th scope="col">Bác sĩ</th>
            <th scope="col">Chuẩn đoán sơ bộ </th>
            <th scope="col">Thông tin chi tiết </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let i of recordPetList">
            <td>{{ i.examination_date }}</td>
            <td>{{ i.doctorDto.user_name }}</td>
            <td>{{ i.test_results }}</td>
            <td>
              <button mat-fab class="mat-fab">
                <mat-icon>brush</mat-icon>
              </button>        
            </td>
          </tr>
        </tbody>
      </table>
</div>
